
<div class="container" *ngIf="weatherData">
  <input type="text" placeholder="Search for places..." [(ngModel)]="searchLocation" (keyup.enter)="getWeatherData()">

    <!-- left container -->
    <div>
      <img [src]="weatherData.current.condition.icon" alt="Weather Icon">
      <p>{{ weatherData.current.temp_c }}째C</p>
      <h2>{{ weatherData.location.localtime }}</h2>
      <p>{{ weatherData.current.condition.text }}</p>
      <p>Humidity: {{ weatherData.current.humidity }}%</p>
    </div>

    <!-- toggle button for hourly and weekly forecast -->
    <div class="flex space-x-4 mb-4 relative">
      <button class="px-4 py-2 text-gray-700 relative" (click)="showHourly = true; showWeekly = false;" [ngClass]="{'border-b-2 border-blue-500': showHourly}">
        Today
      </button>
      <button class="px-4 py-2 text-gray-700 relative" (click)="showWeekly = true; showHourly = false;" [ngClass]="{'border-b-2 border-blue-500': showWeekly}">
        Week      
      </button>
    </div>
    
    <div *ngIf="showHourly" class="flex flex-nowrap space-x-5">
      <div class="shadow-md min-w-40 rounded-lg p-4"*ngFor="let hour of weatherData.forecast.forecastday[0]?.hour">
        <h3>{{ hour.time }}</h3>
        <img [src]="hour.condition.icon" alt="Weather icon">
        <p>{{ hour.temp_c }} 째C</p>
        <p>{{ hour.condition.text }}</p>
      </div>
    </div>

    <div *ngIf="showWeekly" class="flex flex-nowrap space-x-5">
      <div class="shadow-md min-w-40 rounded-lg p-4" *ngFor="let forecast of weatherData.forecast.forecastday"> 
        <h3>{{ forecast.date }}</h3>
        <img [src]="forecast.day.condition.icon" alt="Weather Icon">
        <p>High: {{ forecast.day.maxtemp_c }}째C</p>
        <p>Low: {{ forecast.day.mintemp_c }}째C</p>
        <p>{{ forecast.day.condition.text }}</p>
      </div>
    </div>

    <h2>Today's Highlights</h2>

    <div class="grid grid-cols-3 gap-4">

      <div class="shadow-md rounded-lg p-4">
        <p>UV Index</p>
        <p>{{ weatherData.current.uv }}</p>
      </div>
  
      <div class="shadow-md rounded-lg p-4" >
        <p>Wind Status</p>
        <p>{{ weatherData.current.wind_kph}} km/h</p>
        <p> {{ weatherData.current.wind_dir }} </p>
      </div>
  
      <div class="shadow-md rounded-lg p-4" *ngIf="weatherData.forecast.forecastday.length > 0">
        <p>Sunrise & Sunset</p>
          <p>Sunrise: {{ weatherData.forecast.forecastday.slice(0, 1)[0].astro.sunrise }}</p>
          <p>Sunset: {{ weatherData.forecast.forecastday.slice(0, 1)[0].astro.sunset }}</p>
      </div>
      
      <div class="shadow-md rounded-lg p-4" >
        <p>Humidity</p>
        <p>{{ weatherData.current.humidity }}%</p>
      </div>
  
      <div class="shadow-md rounded-lg p-4" >
        <P>Visibility</P>
        <p>{{ weatherData.current.vis_km }} km</p>
      </div>
  
      <div class="shadow-md rounded-lg p-4" >
        <p>Air Quality</p>
        <p>{{ weatherData.current.air_quality.co }}</p>
      </div>

    </div>
 
</div>
